
<form [formGroup]="registerForm">
  <div class="form-group">
  <input
    [ngClass]="{'is-invalid': registerForm.get('userName').errors && registerForm.get('userName').touched}"
    formControlName="userName" 
    type="text" 
    class="form-control"
    placeholder="Username">
    <div class="invalid-feedback">Username is Required</div>
    <div 
        class="invalid-feedback" 
        *ngIf="registerForm.get('password').hasError('userNameTakenValidator') 
          && registerForm.get('password').touched">
        Password is Required</div>
  </div>

  <div class="form-group">
    <input 
    [ngClass]="{'is-invalid': registerForm.get('email').errors && registerForm.get('email').touched}"
      formControlName="email"
      type="text" 
      class="form-control"
      placeholder="Email Address">
      <div class="invalid-feedback">Email address is Required</div>
  </div>

  <div class="form-group">
    <input
    [ngClass]="{'is-invalid': registerForm.get('password').errors && registerForm.get('password').touched}" 
      formControlName="password"
      type="text" 
      class='form-control'
      placeholder="Password">
      <div 
        class="invalid-feedback" 
        *ngIf="registerForm.get('password').hasError('required') 
          && registerForm.get('password').touched">
        Password is Required</div>
        <div 
        class="invalid-feedback" 
        *ngIf="registerForm.get('password').hasError('minlength') 
          && registerForm.get('password').touched">
        Password must be at least 4 characters</div>
        <div 
        class="invalid-feedback" 
        *ngIf="registerForm.get('password').hasError('maxlength') 
          && registerForm.get('password').touched">
        Password cannot be more than 8 characters</div>
      
  </div>

  <div class="form-group">
    <input
      [ngClass]="{'is-invalid': registerForm.get('confirmPassword').errors 
        && registerForm.get('confirmPassword').touched
        || registerForm.get('confirmPassword').touched
        && registerForm.hasError('mismatch')}" 
      formControlName="confirmPassword"
      type="text" 
      class='form-control'
      placeholder="Confirm Password">
      <div 
        class="invalid-feedback" 
        *ngIf="registerForm.get('password').hasError('required') 
          && registerForm.get('password').touched">
        Password is Required</div>
        <div 
        class="invalid-feedback" 
        *ngIf="registerForm.hasError('mismatch') 
          && registerForm.get('password').touched">
        Passwords must match</div>
  </div>

  <div class="form-group text-center">
    <button class="btn btn-success" type="submit">Register</button>
    <button class="btn btn-default" type="button" (click)="cancel()">Cancel</button>
  </div>
</form>

<p>
  {{ registerForm.value | json }}
</p>